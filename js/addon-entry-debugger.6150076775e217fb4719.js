(window.webpackJsonpGUI = window.webpackJsonpGUI || []).push([[17], {
    1482: function(e, t, n) {
        (e.exports = n(9)(!1)).push([e.i, "/* Imported by other addons */\n\n.sa-block-color {\n  --sa-block-colored-background: var(--sa-block-background-primary);\n  --sa-block-colored-background-secondary: var(--sa-block-background-tertiary);\n  --sa-block-bright-background: var(--sa-block-background-primary);\n  --sa-block-text: white;\n  --sa-block-gray-text: white;\n  --sa-block-colored-text: var(--sa-block-background-primary);\n  --sa-block-text-on-bright-background: white;\n}\n\n.sa-block-color-motion {\n  --sa-block-background-primary: var(--editorTheme3-motion-primary, #4c97ff);\n  --sa-block-background-secondary: var(--editorTheme3-motion-secondary, #4280d7);\n  --sa-block-background-tertiary: var(--editorTheme3-motion-tertiary, #3373cc);\n  --sa-block-field-background: var(--editorTheme3-motion-field, #3373cc);\n}\n\n.sa-block-color-looks {\n  --sa-block-background-primary: var(--editorTheme3-looks-primary, #9966ff);\n  --sa-block-background-secondary: var(--editorTheme3-looks-secondary, #855cd6);\n  --sa-block-background-tertiary: var(--editorTheme3-looks-tertiary, #774dcb);\n  --sa-block-field-background: var(--editorTheme3-looks-field, #774dcb);\n}\n\n.sa-block-color-sounds {\n  --sa-block-background-primary: var(--editorTheme3-sounds-primary, #cf63cf);\n  --sa-block-background-secondary: var(--editorTheme3-sounds-secondary, #c94fc9);\n  --sa-block-background-tertiary: var(--editorTheme3-sounds-tertiary, #bd42bd);\n  --sa-block-field-background: var(--editorTheme3-sounds-field, #bd42bd);\n}\n\n.sa-block-color-events {\n  --sa-block-background-primary: var(--editorTheme3-event-primary, #ffbf00);\n  --sa-block-background-secondary: var(--editorTheme3-event-secondary, #e6ac00);\n  --sa-block-background-tertiary: var(--editorTheme3-event-tertiary, #cc9900);\n  --sa-block-field-background: var(--editorTheme3-event-field, #cc9900);\n}\n\n.sa-block-color-control {\n  --sa-block-background-primary: var(--editorTheme3-control-primary, #ffab19);\n  --sa-block-background-secondary: var(--editorTheme3-control-secondary, #ec9c13);\n  --sa-block-background-tertiary: var(--editorTheme3-control-tertiary, #cf8b17);\n  --sa-block-field-background: var(--editorTheme3-control-field, #cf8b17);\n}\n\n.sa-block-color-sensing {\n  --sa-block-background-primary: var(--editorTheme3-sensing-primary, #5cb1d6);\n  --sa-block-background-secondary: var(--editorTheme3-sensing-secondary, #47a8d1);\n  --sa-block-background-tertiary: var(--editorTheme3-sensing-tertiary, #2e8eb8);\n  --sa-block-field-background: var(--editorTheme3-sensing-field, #2e8eb8);\n}\n\n.sa-block-color-operators {\n  --sa-block-background-primary: var(--editorTheme3-operators-primary, #59c059);\n  --sa-block-background-secondary: var(--editorTheme3-operators-secondary, #46b946);\n  --sa-block-background-tertiary: var(--editorTheme3-operators-tertiary, #389438);\n  --sa-block-field-background: var(--editorTheme3-operators-field, #389438);\n}\n\n.sa-block-color-data {\n  --sa-block-background-primary: var(--editorTheme3-data-primary, #ff8c1a);\n  --sa-block-background-secondary: var(--editorTheme3-data-secondary, #ff8000);\n  --sa-block-background-tertiary: var(--editorTheme3-data-tertiary, #db6e00);\n  --sa-block-field-background: var(--editorTheme3-data-field, #db6e00);\n}\n\n.sa-block-color-data-lists,\n.sa-block-color-list {\n  --sa-block-background-primary: var(--editorTheme3-data_lists-primary, #ff661a);\n  --sa-block-background-secondary: var(--editorTheme3-data_lists-secondary, #ff5500);\n  --sa-block-background-tertiary: var(--editorTheme3-data_lists-tertiary, #e64d00);\n  --sa-block-field-background: var(--editorTheme3-data_lists-field, #e64d00);\n}\n\n.sa-block-color-more,\n.sa-block-color-null {\n  --sa-block-background-primary: var(--editorTheme3-more-primary, #ff6680);\n  --sa-block-background-secondary: var(--editorTheme3-more-secondary, #ff4d6a);\n  --sa-block-background-tertiary: var(--editorTheme3-more-tertiary, #ff3355);\n  --sa-block-field-background: var(--editorTheme3-more-field, #ff3355);\n}\n\n.sa-block-color-pen {\n  --sa-block-background-primary: var(--editorTheme3-pen-primary, #0fbd8c);\n  --sa-block-background-secondary: var(--editorTheme3-pen-secondary, #0da57a);\n  --sa-block-background-tertiary: var(--editorTheme3-pen-tertiary, #0b8e69);\n  --sa-block-field-background: var(--editorTheme3-pen-field, #0b8e69);\n}\n\n.sa-block-color-addon-custom-block {\n  --sa-block-background-primary: var(--editorTheme3-sa-primary, #29beb8);\n  --sa-block-background-secondary: var(--editorTheme3-sa-secondary, #3aa8a4);\n  --sa-block-background-tertiary: var(--editorTheme3-sa-tertiary, #3aa8a4);\n  --sa-block-field-background: var(--editorTheme3-sa-field, #3aa8a4);\n}\n\n.sa-block-color-TurboWarp {\n  --sa-block-background-primary: var(--editorTheme3-tw-primary, #ff4c4c);\n  --sa-block-background-secondary: var(--editorTheme3-tw-secondary, #e64444);\n  --sa-block-background-tertiary: var(--editorTheme3-tw-tertiary, #e64444);\n  --sa-block-field-background: var(--editorTheme3-tw-field, #e64444);\n}\n", ""])
    },
    1485: function(e, t, n) {
        "use strict";
        t.a = (e, t) => {
            const n = document.createElement("a");
            if (document.body.appendChild(n), navigator.msSaveOrOpenBlob)
                navigator.msSaveOrOpenBlob(t, e);
            else if ("download" in HTMLAnchorElement.prototype) {
                const a = window.URL.createObjectURL(t);
                n.href = a,
                n.download = e,
                n.type = t.type,
                n.click(),
                window.setTimeout(() => {
                    document.body.removeChild(n),
                    window.URL.revokeObjectURL(a)
                }, 1e3)
            } else {
                let e = window.open("", "_blank");
                const n = new FileReader;
                n.onloadend = function() {
                    e.location.href = n.result,
                    e = null
                },
                n.readAsDataURL(t)
            }
        }
    },
    1486: function(e, t, n) {
        "use strict";
        const a = "http://www.w3.org/2000/svg",
            o = document.createElementNS(a, "svg");
        o.style.position = "fixed",
        o.style.top = "-999999px",
        o.style.width = "0",
        o.style.height = "0",
        document.body.appendChild(o);
        let r = 0;
        const s = new WeakMap,
            i = e => (s.get(e) || s.set(e, new Set), s.get(e)),
            c = (e, t) => {
                let n;
                for (const e of t)
                    (!n || e.priority > n.priority) && (n = e);
                e.style.filter = n ? n.filter : ""
            },
            d = (e, t) => {
                const n = i(e);
                n.add(t),
                c(e, n)
            },
            l = (e, t) => {
                const n = i(e);
                n.delete(t),
                c(e, n)
            };
        t.a = class {
            constructor(e, t)
            {
                this.priority = e;
                const n = "sa_glower_filter".concat(r++);
                this.filter = 'url("#'.concat(n, '")'),
                this.previousElements = new Set;
                const s = document.createElementNS(a, "filter");
                s.id = n,
                s.setAttribute("width", "180%"),
                s.setAttribute("height", "160%"),
                s.setAttribute("x", "-40%"),
                s.setAttribute("y", "-30%");
                const i = document.createElementNS(a, "feGaussianBlur");
                i.setAttribute("in", "SourceGraphic"),
                i.setAttribute("stdDeviation", "4"),
                s.appendChild(i);
                const c = document.createElementNS(a, "feComponentTransfer");
                c.setAttribute("result", "outBlur"),
                s.appendChild(c);
                const d = document.createElementNS(a, "feFuncA");
                d.setAttribute("type", "table"),
                d.setAttribute("tableValues", "0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"),
                c.appendChild(d);
                const l = document.createElementNS(a, "feFlood");
                l.setAttribute("flood-opacity", "1"),
                l.setAttribute("result", "outColor"),
                s.appendChild(l),
                this.filterFlood = l;
                const g = document.createElementNS(a, "feComposite");
                g.setAttribute("in", "outColor"),
                g.setAttribute("in2", "outBlur"),
                g.setAttribute("operator", "in"),
                g.setAttribute("result", "outGlow"),
                s.appendChild(g);
                const u = document.createElementNS(a, "feComposite");
                u.setAttribute("in", "SourceGraphic"),
                u.setAttribute("in2", "outGlow"),
                u.setAttribute("operator", "over"),
                s.appendChild(u),
                o.appendChild(s),
                this.setColor(t)
            }
            setColor(e)
            {
                this.filterFlood.setAttribute("flood-color", e)
            }
            setGlowingThreads(e)
            {
                const t = new Set,
                    n = Blockly.getMainWorkspace();
                if (n)
                    for (const a of e)
                        a.stack.forEach(e => {
                            const o = n.getBlockById(e);
                            if (!o)
                                return;
                            if (!a.stack.find(e => {
                                let t = o;
                                for (; t.childBlocks_.length;)
                                    if (t = t.childBlocks_[t.childBlocks_.length - 1], e === t.id)
                                        return !0;
                                return !1
                            }) && o.svgPath_) {
                                const e = o.svgPath_;
                                t.add(e)
                            }
                        });
                for (const e of this.previousElements)
                    t.has(e) || l(e, this);
                for (const e of t)
                    this.previousElements.has(e) || d(e, this);
                this.previousElements = t
            }
        }
    },
    1547: function(e, t, n) {
        var a = n(204);
        (t = e.exports = n(9)(!1)).i(n(1482), ""),
        t.push([e.i, '[dir="ltr"] .sa-debugger-container {\n  margin-right: 0.2rem;\n}\n\n[dir="rtl"] .sa-debugger-container {\n  margin-left: 0.2rem;\n}\n\n.sa-debugger-small .sa-debugger-container {\n  display: none !important;\n}\n\n.sa-debugger-container [class*="button_content_"] {\n  position: relative;\n}\n\n.sa-debugger-unread::after {\n  content: "";\n  position: absolute;\n  top: 1px;\n  right: 0;\n  display: block;\n  width: 6px;\n  height: 6px;\n  background-color: var(--editorDarkMode-highlightText, #4d97ff);\n  border-radius: 50%;\n}\n\n.sa-debugger-interface {\n  display: none;\n  position: absolute;\n  z-index: 492;\n  background-color: white;\n  width: 565px;\n  height: 25rem;\n}\n[theme="dark"] .sa-debugger-interface {\n  background: var(--ui-primary);\n}\n\n.sa-debugger-interface [class*="card_header-buttons_"] {\n  background-color: #29beb8;\n  border-color: #3aa8a4;\n}\n\n.sa-debugger-interface h1 {\n  padding: 10px;\n  z-index: 10;\n  width: calc(100% - 20px);\n  font-size: 20px;\n}\n\n.sa-debugger-tabs {\n  margin: 0;\n  display: flex;\n  align-items: center;\n  padding: 0 15px;\n  font-size: 0.75rem;\n}\n.sa-debugger-tabs li {\n  margin: 0;\n  display: flex;\n  align-items: center;\n  padding: 0.5em 1em;\n  background-color: rgba(0, 0, 0, 0.1);\n  border: 1px solid rgba(0, 0, 0, 0.15);\n  border-radius: 1rem;\n  color: white;\n  cursor: pointer;\n}\n.sa-debugger-tabs li + li {\n  margin-inline-start: 10px;\n}\n.sa-debugger-tabs li:hover {\n  background-color: rgba(0, 0, 0, 0.15);\n}\n.sa-debugger-tabs li.sa-debugger-tab-selected {\n  background-color: white;\n  background-clip: padding-box;\n  border-color: rgba(0, 0, 0, 0.25);\n  color: #4d97ff;\n}\n.sa-debugger-tabs li img {\n  margin: 0;\n  margin-right: 0.25rem;\n  width: 1rem;\n  filter: brightness(0) invert(1);\n}\n.sa-debugger-tabs li.sa-debugger-tab-selected img {\n  filter: none;\n}\n\n.sa-debugger-header-buttons img {\n  width: 20px;\n  height: 20px;\n}\n\n.sa-debugger-unpause {\n  animation: saDebuggerUnpause 2s infinite alternate;\n}\n\n@keyframes saDebuggerUnpause {\n  0% {\n    background-color: rgba(0, 0, 0, 0.15);\n  }\n  100% {\n    background-color: rgba(0, 0, 0, 0);\n  }\n}\n\n.sa-debugger-tab-content {\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  cursor: auto;\n}\n\n.sa-debugger-chart {\n  width: 100%;\n  height: 100%;\n}\n\n.sa-performance-tab-content {\n  padding: 15px;\n}\n\n.sa-debugger-log-outer {\n  height: 100%;\n}\n\n.sa-debugger-log-inner {\n  position: relative;\n  overflow-y: auto;\n  font-size: 12px;\n  line-height: 1.2;\n  height: 100%;\n  contain: strict;\n}\n\n.sa-debugger-log-empty {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  font-size: 20px;\n  font-style: italic;\n}\n\n.sa-debugger-log-end {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 1px;\n  height: 1px;\n}\n\n.sa-debugger-log {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 20px;\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.15);\n  padding-left: 4px;\n  font-family: monospace;\n  color: #000;\n}\n[theme="dark"] .sa-debugger-log {\n  color: var(--text-primary);\n  border-color: rgba(255, 255, 255, 0.15);\n}\n.sa-debugger-log[data-type="warn"] {\n  border-color: hsl(50deg, 100%, 75%);\n  color: hsl(39deg 100% 18%);\n  background-color: hsl(50deg 100% 95%);\n}\n.sa-debugger-log[data-type="error"] {\n  border-color: hsl(0deg 100% 92%);\n  color: red;\n  background-color: hsl(0deg 100% 95%);\n}\n[theme="dark"] .sa-debugger-log[data-type="warn"] {\n  border-color: hsl(50deg, 100%, 15%);\n  color: hsl(39deg 100% 90%);\n  background-color: hsl(50deg 100% 10%);\n}\n[theme="dark"] .sa-debugger-log[data-type="error"] {\n  border-color: hsl(0deg 100% 15%);\n  color: hsl(0deg 100% 77%);\n  background-color: hsl(0deg 100% 10%);\n}\n\n.sa-debugger-log-repeats {\n  background-color: hsla(163, 85%, 40%, 1);\n  color: white;\n  border-radius: 100px;\n  padding: 1px 6px;\n  margin-right: 4px;\n}\n[theme="dark"] .sa-debugger-log-repeats {\n  color: var(--ui-primary);\n}\n\n.sa-debugger-log-icon {\n  width: 16px;\n  height: 16px;\n  margin-right: 4px;\n}\n[data-type="warn"] .sa-debugger-log-icon {\n  background-image: url(' + a(n(1548)) + ');\n}\n[data-type="error"] .sa-debugger-log-icon {\n  background-image: url(' + a(n(1549)) + ");\n}\n.sa-debugger-threads .sa-debugger-log-icon {\n  background-image: url(" + a(n(1550)) + ');\n}\n\n.sa-debugger-log-link {\n  color: inherit;\n  cursor: pointer;\n  opacity: 0.5;\n  text-decoration: underline;\n  float: right;\n  text-align: right;\n  max-width: 100%;\n  padding-left: 4px;\n  margin-right: 4px;\n  margin-left: auto;\n}\n[theme="dark"] .sa-debugger-log-link {\n  color: inherit;\n}\n.sa-debugger-log-link:hover {\n  text-decoration: underline;\n  color: #4d97ff;\n  opacity: 1;\n}\n.sa-debugger-log-link-unknown {\n  pointer-events: none;\n}\n\n.sa-debugger-log-text {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: pre;\n}\n.sa-debugger-log-text-empty {\n  font-style: italic;\n}\n.sa-debugger-log-internal .sa-debugger-log-text {\n  font-style: italic;\n}\n\n.sa-debugger-thread-indent {\n  width: calc(16px * var(--level));\n  margin-right: 4px;\n}\n.sa-debugger-thread-title .sa-debugger-thread-indent {\n  margin: 0;\n}\n.sa-debugger-thread-target-name {\n  font-weight: bold;\n  margin-right: 8px;\n}\n.sa-debugger-thread-running {\n  background-color: rgba(255, 187, 0, 0.233);\n  font-weight: bold;\n}\n\n.sa-debugger-block-preview {\n  padding: 1px 6px;\n  margin-right: 4px;\n  background-color: var(--sa-block-colored-background);\n  color: var(--sa-block-text);\n}\n.sa-debugger-block-preview[data-shape="round"] {\n  border-radius: 100px;\n}\n.sa-debugger-block-preview[data-shape="stacked"] {\n  border-radius: 3px;\n}\n\n.sa-debugger-thread-compiled {\n  font-style: italic;\n}\n\n.sa-debugger-compiler-warning {\n  position: relative;\n  display: block;\n  text-align: center;\n  height: 24px;\n  color: #2121bf;\n}\n.sa-debugger-compiler-warning[hidden] {\n  display: none;\n}\n[theme="dark"] .sa-debugger-compiler-warning {\n  color: #bdbdf9;\n}\n', ""])
    },
    1548: function(e, t, n) {
        e.exports = n.p + "static/assets/0e009d6e684951615b31a267baa37636.svg"
    },
    1549: function(e, t, n) {
        e.exports = n.p + "static/assets/76b6cb627b95d79705c0b41664064f0e.svg"
    },
    1550: function(e, t, n) {
        e.exports = n.p + "static/assets/c846a442121113b1d04f6b9d50912038.svg"
    },
    1604: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, "resources", (function() {
            return L
        }));
        var a = "data:image/svg+xml;base64,PHN2ZyBkYXRhLW5hbWU9IkxheWVyIDEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDcuNDggNy40OCIgc3R5bGU9InRyYW5zZm9ybTpyb3RhdGUoNDVkZWcpIj48cGF0aCBkPSJNMy43NCA2LjQ4VjFNMSAzLjc0aDUuNDgiIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiNmZmY7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS13aWR0aDoycHgiLz48L3N2Zz4=",
            o = "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgc3Ryb2tlPSIjNEM5N0ZGIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCI+PHBhdGggc3R5bGU9ImZpbGw6IzU3NWU3NTtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MTtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MTtwYWludC1vcmRlcjptYXJrZXJzIHN0cm9rZSBmaWxsIiBkPSJNNCAzLjVjLS44MzEgMC0xLjUuNjY5LTEuNSAxLjV2MTBjMCAuODMxLjY2OSAxLjUgMS41IDEuNWgxMmMuODMxIDAgMS41LS42NjkgMS41LTEuNVY1YzAtLjgzMS0uNjY5LTEuNS0xLjUtMS41Wm0wIDFoMTJjLjI3NyAwIC41LjIyMy41LjV2MTBjMCAuMjc3LS4yMjMuNS0uNS41SDRhLjQ5OS40OTkgMCAwIDEtLjUtLjVWNWMwLS4yNzcuMjIzLS41LjUtLjVaIiBzdHJva2U9Im5vbmUiLz48cGF0aCBkPSJtNS40MTcgNy41IDMuNzUgMi41LTMuNzUgMi41bTUgMGg0LjE2NiIgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzhmOGY4ZjtzdHJva2Utd2lkdGg6MTtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIi8+PC9nPjwvc3ZnPg==",
            r = "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxwYXRoIGQ9Ik00LjU0OCA3aDEwLjkwNGEuNS41IDAgMCAxIC40OTguNTQ1bC0uNzg1IDguNjM1QTIgMiAwIDAgMSAxMy4xNzQgMThINi44MjdhMiAyIDAgMCAxLTEuOTkyLTEuODJMNC4wNSA3LjU0NkEuNS41IDAgMCAxIDQuNTQ4IDd6bTIuNzg1LTMgLjU1My0xLjY1OEEuNS41IDAgMCAxIDguMzYgMmgzLjI4YS41LjUgMCAwIDEgLjQ3NC4zNDJMMTIuNjY3IDRIMTYuNWEuNS41IDAgMCAxIC41LjV2MWEuNS41IDAgMCAxLS41LjVoLTEzYS41LjUgMCAwIDEtLjUtLjV2LTFhLjUuNSAwIDAgMSAuNS0uNWgzLjgzM3ptMS4wNTQgMGgzLjIyNmwtLjMzNC0xSDguNzIxbC0uMzM0IDF6TTEwIDExLjcybDEuNTk1LTEuNTk1YS41LjUgMCAwIDEgLjcwNyAwbC4wNzMuMDczYS41LjUgMCAwIDEgMCAuNzA3TDEwLjc4IDEyLjVsMS41OTUgMS41OTVhLjUuNSAwIDAgMSAwIC43MDdsLS4wNzMuMDczYS41LjUgMCAwIDEtLjcwNyAwTDEwIDEzLjI4bC0xLjU5NSAxLjU5NWEuNS41IDAgMCAxLS43MDcgMGwtLjA3My0uMDczYS41LjUgMCAwIDEgMC0uNzA3TDkuMjIgMTIuNWwtMS41OTUtMS41OTVhLjUuNSAwIDAgMSAwLS43MDdsLjA3My0uMDczYS41LjUgMCAwIDEgLjcwNyAwTDEwIDExLjcyeiIgaWQ9ImEiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48ZyBtYXNrPSJ1cmwoI2IpIiBmaWxsPSIjRkZGIj48cGF0aCBkPSJNMCAwaDIwdjIwSDB6Ii8+PC9nPjwvZz48L3N2Zz4=",
            s = "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0ibTE0LjczIDguNzc5LTQuMjUzIDQuMjY0YS42MTkuNjE5IDAgMCAxLS44OSAwTDUuMzM2IDguNzc5QS42My42MyAwIDAgMSA1Ljc4OCA3LjdoMi4xMTdsMS4yNjMtNS4wMTZhLjkxMi45MTIgMCAwIDEgMS4xMDYtLjY1Ni44OS44OSAwIDAgMSAuNjY4LjY1NkwxMi4yMDYgNy43aDIuMDcyYy41NTkgMCAuODU2LjY3LjQ1MSAxLjA3OHpNMTggMTEuODEydjIuNTc5QzE4IDE2LjM3NSAxNi4zOTUgMTggMTQuNDE3IDE4SDUuNkEzLjYwNyAzLjYwNyAwIDAgMSAyIDE0LjM5di0yLjU3OGExLjE3IDEuMTcgMCAxIDEgMi4zMzcgMHYyLjU3OUExLjI3IDEuMjcgMCAwIDAgNS42IDE1LjY1Nmg4LjgxN2MuNjg2IDAgMS4yNDYtLjU3OCAxLjI0Ni0xLjI2NXYtMi41NzljMC0uNjU2LjUzLTEuMTcyIDEuMTY5LTEuMTcyLjY1NCAwIDEuMTY4LjUxNiAxLjE2OCAxLjE3MnoiIGZpbGw9IiNGRkYiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==",
            i = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiB2aWV3Qm94PSIwIDAgMjQgMjQiIHN0eWxlPSItbXMtdHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpOy13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKSI+PHBhdGggZD0iTTEyIDE0YTEuMjUgMS4yNSAwIDEgMCAxLjI1IDEuMjVBMS4yNSAxLjI1IDAgMCAwIDEyIDE0em0wLTEuNWExIDEgMCAwIDAgMS0xdi0zYTEgMSAwIDAgMC0yIDB2M2ExIDEgMCAwIDAgMSAxek0xMiAyYTEwIDEwIDAgMSAwIDEwIDEwQTEwLjAxMSAxMC4wMTEgMCAwIDAgMTIgMnptMCAxOGE4IDggMCAxIDEgOC04IDguMDEgOC4wMSAwIDAgMS04IDh6IiBmaWxsPSJyZWQiLz48L3N2Zz4=",
            c = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiB2aWV3Qm94PSIwIDAgMjQgMjQiIHN0eWxlPSItbXMtdHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpOy13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKSI+PHBhdGggZD0iTTMgN2gxOGExIDEgMCAwIDAgMC0ySDNhMSAxIDAgMCAwIDAgMnptMCA0aDE0YTEgMSAwIDAgMCAwLTJIM2ExIDEgMCAwIDAgMCAyem0xOCAySDNhMSAxIDAgMCAwIDAgMmgxOGExIDEgMCAwIDAgMC0yem0tNCA0SDNhMSAxIDAgMCAwIDAgMmgxNGExIDEgMCAwIDAgMC0yeiIgZmlsbD0iIzRjOTdmZiIvPjwvc3ZnPg==",
            d = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyNCAyNCIgc3Ryb2tlPSJjdXJyZW50Q29sb3IiPjxwYXRoIHN0cm9rZT0iIzRjOTdmZiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik05IDE5di02YTIgMiAwIDAgMC0yLTJINWEyIDIgMCAwIDAtMiAydjZhMiAyIDAgMCAwIDIgMmgyYTIgMiAwIDAgMCAyLTJ6bTAgMFY5YTIgMiAwIDAgMSAyLTJoMmEyIDIgMCAwIDEgMiAydjEwbS02IDBhMiAyIDAgMCAwIDIgMmgyYTIgMiAwIDAgMCAyLTJtMCAwVjVhMiAyIDAgMCAxIDItMmgyYTIgMiAwIDAgMSAyIDJ2MTRhMiAyIDAgMCAxLTIgMmgtMmEyIDIgMCAwIDEtMi0yeiIvPjwvc3ZnPg==",
            l = "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDkiIGhlaWdodD0iNTIiIHZpZXdCb3g9Ii01IDAgNDkgNDgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxwYXRoIGQ9Ik0xNy4yMjEgOC4zNDVjMi41NTYtNC4yNTkgNi43MDItNC4yNTIgOS4yNTQgMGwxMy42NzcgMjIuNzk2YzIuNTU1IDQuMjU4LjU5NyA3LjcxLTQuMzggNy43MUg3LjkyNGMtNC45NzMgMC02LjkzLTMuNDU4LTQuMzgtNy43MUwxNy4yMjIgOC4zNDV6IiBpZD0iYSIvPjwvZGVmcz48dXNlIHN0cm9rZT0iI0ZGRiIgZmlsbD0iI0ZGRiIgeGxpbms6aHJlZj0iI2EiIHRyYW5zZm9ybT0icm90YXRlKDkwIDIwLjg1IDIzLjAwMykiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==",
            g = "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTkiIGhlaWdodD0iMTkiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjIuNjggMTIuMmExLjYgMS42IDAgMCAxLTEuMjcuNjNoLTcuNjlhMS41OSAxLjU5IDAgMCAxLTEuMTYtMi41OGwxLjEyLTEuNDFhNC44MiA0LjgyIDAgMCAwLTMuMTQtLjc3IDQuMzEgNC4zMSAwIDAgMC0yIC44QTQuMjUgNC4yNSAwIDAgMCA3LjIgMTAuNmE1LjA2IDUuMDYgMCAwIDAgLjU0IDQuNjJBNS41OCA1LjU4IDAgMCAwIDEyIDE3Ljc0YTIuMjYgMi4yNiAwIDAgMS0uMTYgNC41MkExMC4yNSAxMC4yNSAwIDAgMSAzLjc0IDE4YTEwLjE0IDEwLjE0IDAgMCAxLTEuNDktOS4yMiA5LjcgOS43IDAgMCAxIDIuODMtNC4xNEE5LjkyIDkuOTIgMCAwIDEgOS42NiAyLjVhMTAuNjYgMTAuNjYgMCAwIDEgNy43MiAxLjY4bDEuMDgtMS4zNWExLjU3IDEuNTcgMCAwIDEgMS4yNC0uNiAxLjYgMS42IDAgMCAxIDEuNTQgMS4yMWwxLjcgNy4zN2ExLjU3IDEuNTcgMCAwIDEtLjI2IDEuMzlaIiBzdHlsZT0iZmlsbDojZmZmIi8+PHBhdGggZD0iTTIxLjM4IDExLjgzaC03LjYxYS41OS41OSAwIDAgMS0uNDMtMWwxLjc1LTIuMTlhNS45IDUuOSAwIDAgMC00LjctMS41OCA1LjA3IDUuMDcgMCAwIDAtNC4xMSAzLjE3QTYgNiAwIDAgMCA3IDE1Ljc3YTYuNTEgNi41MSAwIDAgMCA1IDIuOTIgMS4zMSAxLjMxIDAgMCAxLS4wOCAyLjYyIDkuMyA5LjMgMCAwIDEtNy4zNS0zLjgyIDkuMTYgOS4xNiAwIDAgMS0xLjQtOC4zN0E4LjUxIDguNTEgMCAwIDEgNS43MSA1LjRhOC43NiA4Ljc2IDAgMCAxIDQuMTEtMS45MiA5LjcxIDkuNzEgMCAwIDEgNy43NSAyLjA3bDEuNjctMi4xYS41OS41OSAwIDAgMSAxIC4yMUwyMiAxMS4wOGEuNTkuNTkgMCAwIDEtLjYyLjc1WiIgc3R5bGU9ImZpbGw6I2ZmZiIvPjwvc3ZnPg==",
            u = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiB2aWV3Qm94PSIwIDAgMjQgMjQiIHN0eWxlPSItbXMtdHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpOy13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKSI+PHBhdGggZD0iTTIwLjkyIDEyLjYyYTEgMSAwIDAgMC0uMjEtLjMzbC0zLTNhMSAxIDAgMCAwLTEuNDIgMS40MmwxLjMgMS4yOUg4YTEgMSAwIDAgMS0xLTFWN2ExIDEgMCAwIDAtMiAwdjRhMyAzIDAgMCAwIDMgM2g5LjU5bC0xLjMgMS4yOWExIDEgMCAwIDAgMCAxLjQyIDEgMSAwIDAgMCAxLjQyIDBsMy0zYTEgMSAwIDAgMCAuMjEtLjMzIDEgMSAwIDAgMCAwLS43NnoiIGZpbGw9ImdyYXkiLz48L3N2Zz4=",
            b = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiB2aWV3Qm94PSIwIDAgMjQgMjQiIHN0eWxlPSItbXMtdHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpOy13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKSI+PHBhdGggZD0iTTE5IDJIOWEzIDMgMCAwIDAtMyAzdjFINWEzIDMgMCAwIDAtMyAzdjEwYTMgMyAwIDAgMCAzIDNoMTBhMyAzIDAgMCAwIDMtM3YtMWgxYTMgMyAwIDAgMCAzLTNWNWEzIDMgMCAwIDAtMy0zem0tMyAxN2ExIDEgMCAwIDEtMSAxSDVhMSAxIDAgMCAxLTEtMXYtN2gxMnptMC05SDRWOWExIDEgMCAwIDEgMS0xaDEwYTEgMSAwIDAgMSAxIDF6bTQgNWExIDEgMCAwIDEtMSAxaC0xVjlhMyAzIDAgMCAwLS4xOC0xSDIwem0wLTlIOFY1YTEgMSAwIDAgMSAxLTFoMTBhMSAxIDAgMCAxIDEgMXoiIGZpbGw9IiM0Yzk3ZmYiLz48L3N2Zz4=",
            m = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiB2aWV3Qm94PSIwIDAgMjQgMjQiIHN0eWxlPSItbXMtdHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpOy13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKSI+PHBhdGggZD0iTTEyIDE2YTEgMSAwIDEgMCAxIDEgMSAxIDAgMCAwLTEtMXptMTAuNjcgMS40Ny04LjA1LTE0YTMgMyAwIDAgMC01LjI0IDBsLTggMTRBMyAzIDAgMCAwIDMuOTQgMjJoMTYuMTJhMyAzIDAgMCAwIDIuNjEtNC41M3ptLTEuNzMgMmExIDEgMCAwIDEtLjg4LjUxSDMuOTRhMSAxIDAgMCAxLS44OC0uNTEgMSAxIDAgMCAxIDAtMWw4LTE0YTEgMSAwIDAgMSAxLjc4IDBsOC4wNSAxNGExIDEgMCAwIDEgLjA1IDEuMDJ6TTEyIDhhMSAxIDAgMCAwLTEgMXY0YTEgMSAwIDAgMCAyIDBWOWExIDEgMCAwIDAtMS0xeiIgZmlsbD0iI2UwYmIwMCIvPjwvc3ZnPg==",
            h = n(1481),
            p = n(1485);
        const M = (e, t, n) => Math.max(t, Math.min(n, e)),
            I = (e, t) => {
                const n = +t.dataset.index;
                let a = !1;
                for (const o of e.children) {
                    if (+o.dataset.index > n) {
                        a = !0,
                        e.insertBefore(t, o);
                        break
                    }
                }
                a || e.appendChild(t)
            };
        var y = class {
            constructor()
            {
                this.rows = [],
                this.canAutoScrollToEnd = !0,
                this.rowHeight = 20,
                this.outerElement = document.createElement("div"),
                this.outerElement.className = "sa-debugger-log-outer",
                this.innerElement = document.createElement("div"),
                this.innerElement.className = "sa-debugger-log-inner",
                this.outerElement.appendChild(this.innerElement),
                this.innerElement.addEventListener("scroll", this._handleScroll.bind(this), {
                    passive: !0
                }),
                this.innerElement.addEventListener("wheel", this._handleWheel.bind(this), {
                    passive: !0
                }),
                this.endElement = document.createElement("div"),
                this.endElement.className = "sa-debugger-log-end",
                this.endElement.dataset.index = "-1",
                this.innerElement.appendChild(this.endElement),
                this.placeholderElement = document.createElement("div"),
                this.placeholderElement.className = "sa-debugger-log-empty",
                this.visible = !1,
                this.isScrolledToEnd = !0,
                this.scrollTopWhenHidden = "end",
                this.scrollTop = 0,
                this.updateContentQueued = !1,
                this.scrollToEndQueued = !1,
                this.oldLength = -1,
                this.rowToMetadata = new Map
            }
            append(e)
            {
                this.queueUpdateContent(),
                this._queueScrollToEnd(),
                this.rows.push(e);
                for (; this.rows.length > 2e5;)
                    this.rows.shift()
            }
            clear()
            {
                this.rows.length = 0,
                this.scrollTop = 0,
                this.isScrolledToEnd = !0,
                this.queueUpdateContent()
            }
            show()
            {
                this.visible = !0,
                this.height = this.innerElement.offsetHeight,
                this.queueUpdateContent(),
                "end" === this.scrollTopWhenHidden ? this._queueScrollToEnd() : this.innerElement.scrollTop = this.scrollTopWhenHidden
            }
            hide()
            {
                this.visible = !1,
                this.scrollTopWhenHidden = this.isScrolledToEnd ? "end" : this.scrollTop
            }
            _handleScroll(e)
            {
                this.scrollTop = e.target.scrollTop,
                this.isScrolledToEnd = e.target.scrollTop + 5 >= e.target.scrollHeight - e.target.clientHeight,
                this.queueUpdateContent()
            }
            _handleWheel(e)
            {
                e.deltaY < 0 && (this.isScrolledToEnd = !1)
            }
            scrollIntoView(e)
            {
                const t = e * this.rowHeight,
                    n = this.scrollTop,
                    a = this.scrollTop + this.height;
                t > n && t < a || (this.scrollTop = t, this.innerElement.scrollTop = t)
            }
            _queueScrollToEnd()
            {
                this.visible && this.canAutoScrollToEnd && this.isScrolledToEnd && !this.scrollToEndQueued && (this.scrollToEndQueued = !0, queueMicrotask(() => {
                    if (this.scrollToEndQueued = !1, this.isScrolledToEnd) {
                        const e = this.innerElement.scrollHeight - this.innerElement.offsetHeight;
                        this.innerElement.scrollTop = e,
                        this.scrollTop = e
                    }
                }))
            }
            queueUpdateContent()
            {
                this.visible && !this.updateContentQueued && (this.updateContentQueued = !0, queueMicrotask(() => {
                    this.updateContentQueued = !1,
                    this.updateContent()
                }))
            }
            generateRow(e) {}
            renderRow(e, t) {}
            updateContent()
            {
                if (this.rows.length !== this.oldLength) {
                    this.oldLength = this.rows.length;
                    const e = this.rows.length * this.rowHeight;
                    if (this.endElement.style.transform = "translateY(".concat(e, "px)"), this.rows.length)
                        this.placeholderElement.remove();
                    else {
                        this.innerElement.appendChild(this.placeholderElement);
                        for (const e of this.rowToMetadata.values())
                            e.elements.root.remove();
                        this.rowToMetadata.clear()
                    }
                }
                if (0 === this.rows.length)
                    return;
                const e = Math.floor(this.scrollTop / this.rowHeight),
                    t = Math.ceil(this.height / this.rowHeight),
                    n = M(e - 5, 0, this.rows.length),
                    a = M(e + t + 5, 0, this.rows.length),
                    o = new Set,
                    r = [];
                for (let e = n; e < a; e++) {
                    const t = this.rows[e];
                    o.add(t);
                    let n = this.rowToMetadata.get(t);
                    if (!n) {
                        const e = this.generateRow(t);
                        r.push(e.root),
                        n = {
                            stringify: null,
                            elements: e
                        },
                        this.rowToMetadata.set(t, n)
                    }
                    const a = JSON.stringify(t);
                    a !== n.stringify && (n.stringify = a, this.renderRow(n.elements, t));
                    const s = n.elements.root;
                    s.style.transform = "translateY(".concat(e * this.rowHeight, "px)"),
                    s.dataset.index = e
                }
                for (const [e, t] of this.rowToMetadata.entries())
                    o.has(e) || (t.elements.root.remove(), this.rowToMetadata.delete(e));
                for (const e of r)
                    I(this.innerElement, e)
            }
        }
        ;
        const A = e => {
            if ("/icons/close.svg" === e)
                return a;
            if ("/icons/debug.svg" === e)
                return o;
            if ("/icons/delete.svg" === e)
                return r;
            if ("/icons/download-white.svg" === e)
                return s;
            if ("/icons/error.svg" === e)
                return i;
            if ("/icons/logs.svg" === e)
                return c;
            if ("/icons/performance.svg" === e)
                return d;
            if ("/icons/play.svg" === e)
                return l;
            if ("/icons/step.svg" === e)
                return g;
            if ("/icons/subthread.svg" === e)
                return u;
            if ("/icons/threads.svg" === e)
                return b;
            if ("/icons/warning.svg" === e)
                return m;
            throw new Error("Unknown asset: ".concat(e))
        };
        async function w({debug: e, addon: t, console: n, msg: a}) {
            const o = t.tab.traps.vm,
                r = e.createHeaderTab({
                    text: a("tab-logs"),
                    icon: A("/icons/logs.svg")
                }),
                s = new y;
            s.placeholderElement.textContent = a("no-logs");
            s.generateRow = t => {
                const n = document.createElement("div");
                n.className = "sa-debugger-log",
                t.internal && n.classList.add("sa-debugger-log-internal"),
                n.dataset.type = t.type;
                const r = document.createElement("div");
                r.className = "sa-debugger-log-icon",
                "warn" !== t.type && "error" !== t.type || (r.title = a("icon-" + t.type)),
                n.appendChild(r);
                const s = document.createElement("div");
                if (s.className = "sa-debugger-log-repeats", s.style.display = "none", n.appendChild(s), t.preview && t.blockId && t.targetInfo) {
                    const a = t.targetInfo.originalId,
                        r = ((t, n) => {
                            var a;
                            const r = o.runtime.getTargetById(t);
                            if (!r)
                                return null;
                            const s = e.getBlock(r, n);
                            return s ? null === (a = Object.values(s.inputs)[0]) || void 0 === a ? void 0 : a.block : null
                        })(a, t.blockId);
                    if (r) {
                        const t = e.createBlockPreview(a, r);
                        t && n.appendChild(t)
                    }
                }
                const i = document.createElement("div");
                return i.className = "sa-debugger-log-text", 0 === t.text.length ? (i.classList.add("sa-debugger-log-text-empty"), i.textContent = a("empty-string")) : (i.textContent = t.text, i.title = t.text), n.appendChild(i), t.targetInfo && t.blockId && n.appendChild(e.createBlockLink(t.targetInfo, t.blockId)), {
                    root: n,
                    repeats: s
                }
            },
            s.renderRow = (e, t) => {
                const {repeats: n} = e;
                t.count > 1 && (n.style.display = "", n.textContent = t.count)
            };
            const i = e.createHeaderButton({
                text: a("export"),
                icon: A("/icons/download-white.svg"),
                description: a("export-desc")
            });
            i.element.addEventListener("click", async e => {
                const n = e.shiftKey ? await t.tab.prompt(a("export"), a("enter-format"), "{sprite}: {content} ({type})", {
                    useEditorClasses: !0
                }) : "{sprite}: {content} ({type})";
                if (!n)
                    return;
                const o = s.rows.map(({text: e, targetInfo: t, type: o, count: r}) => (n.replace(/\{(sprite|type|content)\}/g, (n, r) => ({
                    sprite: t ? t.name : a("unknown-sprite"),
                    type: o,
                    content: e
                }[r])) + "\n").repeat(r)).join("");
                var r,
                    i;
                r = "logs.txt",
                i = o,
                Object(p.a)(r, new Blob([i], {
                    type: "text/plain"
                }))
            });
            const c = e.createHeaderButton({
                text: a("clear"),
                icon: A("/icons/delete.svg")
            });
            c.element.addEventListener("click", () => {
                d()
            });
            const d = () => {
                s.clear()
            };
            return {
                tab: r,
                content: s.outerElement,
                buttons: [i, c],
                show: () => {
                    s.show(),
                    e.setHasUnreadMessage(!1)
                },
                hide: () => {
                    s.hide()
                },
                addLog: (t, n, a) => {
                    const o = {
                        text: t,
                        type: a,
                        count: 1,
                        preview: !0
                    };
                    if (n) {
                        o.blockId = n.peekStack();
                        const t = n.target.id;
                        o.targetId = t,
                        o.targetInfo = e.getTargetInfoById(t)
                    }
                    "internal" === a && (o.internal = !0, o.preview = !1, o.type = "log"),
                    "internal-warn" === a && (o.internal = !0, o.type = "warn");
                    const r = s.rows[s.rows.length - 1];
                    var i,
                        c;
                    r && (c = r, (i = o).text === c.text && i.type === c.type && i.internal === c.internal && i.blockId === c.blockId && i.targetId === c.targetId) ? (r.count++, s.queueUpdateContent()) : s.append(o),
                    s.visible || o.internal || e.setHasUnreadMessage(!0)
                },
                clearLogs: d
            }
        }
        var k = n(1486);
        const D = e => {
                if ("/icons/close.svg" === e)
                    return a;
                if ("/icons/debug.svg" === e)
                    return o;
                if ("/icons/delete.svg" === e)
                    return r;
                if ("/icons/download-white.svg" === e)
                    return s;
                if ("/icons/error.svg" === e)
                    return i;
                if ("/icons/logs.svg" === e)
                    return c;
                if ("/icons/performance.svg" === e)
                    return d;
                if ("/icons/play.svg" === e)
                    return l;
                if ("/icons/step.svg" === e)
                    return g;
                if ("/icons/subthread.svg" === e)
                    return u;
                if ("/icons/threads.svg" === e)
                    return b;
                if ("/icons/warning.svg" === e)
                    return m;
                throw new Error("Unknown asset: ".concat(e))
            },
            v = (e, t) => {
                for (const n of t)
                    e.push(n)
            };
        async function E({debug: e, addon: t, console: n, msg: a}) {
            const o = t.tab.traps.vm,
                r = e.createHeaderTab({
                    text: a("tab-threads"),
                    icon: D("/icons/threads.svg")
                }),
                s = new y;
            s.canAutoScrollToEnd = !1,
            s.outerElement.classList.add("sa-debugger-threads"),
            s.placeholderElement.textContent = a("no-threads-running");
            const i = new k.a(10, "#ff0000");
            s.generateRow = t => {
                const n = document.createElement("div");
                n.className = "sa-debugger-log";
                const o = "thread-header" === t.type,
                    r = document.createElement("div");
                if (r.className = "sa-debugger-thread-indent", r.style.setProperty("--level", o ? t.depth : t.depth + 1), n.appendChild(r), o) {
                    if (n.classList.add("sa-debugger-thread-title"), t.depth > 0) {
                        const e = document.createElement("div");
                        e.className = "sa-debugger-log-icon",
                        n.appendChild(e)
                    }
                    const e = document.createElement("div");
                    e.textContent = t.targetName,
                    e.className = "sa-debugger-thread-target-name",
                    n.appendChild(e);
                    const o = document.createElement("div");
                    o.className = "sa-debugger-thread-id",
                    o.textContent = a("thread", {
                        id: t.id
                    }),
                    n.appendChild(o)
                }
                if ("thread-stack" === t.type) {
                    const a = e.createBlockPreview(t.targetId, t.blockId);
                    a && n.appendChild(a)
                }
                if ("compiled" === t.type) {
                    const e = document.createElement("div");
                    e.className = "sa-debugger-thread-compiled",
                    e.textContent = "Compiled threads can't be stepped and have no stack information.",
                    n.appendChild(e)
                }
                return t.targetId && t.blockId && n.appendChild(e.createBlockLink(e.getTargetInfoById(t.targetId), t.blockId)), {
                    root: n
                }
            },
            s.renderRow = (e, t) => {
                const {root: n} = e;
                n.classList.toggle("sa-debugger-thread-running", !!t.running)
            };
            let c = new WeakMap;
            const d = new WeakMap;
            let l = 1;
            const g = () => {
                if (!s.visible)
                    return;
                const t = [],
                    n = o.runtime.threads,
                    a = new Set,
                    r = (t, n) => {
                        if (a.has(t))
                            return [];
                        a.add(t);
                        const o = (e => (d.has(e) || d.set(e, l++), d.get(e)))(t),
                            s = t.target;
                        c.has(t) || c.set(t, {
                            headerItem: {
                                type: "thread-header",
                                depth: n,
                                targetName: s.getName(),
                                id: o
                            },
                            compiledItem: t.isCompiled ? {
                                type: "compiled",
                                depth: 1
                            } : null,
                            blockCache: new WeakMap
                        });
                        const i = c.get(t),
                            g = Object(h.a)(),
                            u = (e, a) => {
                                const o = e.id;
                                if (!e)
                                    return;
                                const c = t.stackFrames[a];
                                i.blockCache.has(e) || i.blockCache.set(e, {});
                                const d = i.blockCache.get(e);
                                let l = d[a];
                                l || (l = d[a] = {
                                    type: "thread-stack",
                                    depth: n,
                                    targetId: s.id,
                                    blockId: o
                                }),
                                l.running = t === g && (t.isCompiled || o === g.peekStack() && a === g.stackFrames.length - 1);
                                const u = [l];
                                if (c && c.executionContext && c.executionContext.startedThreads)
                                    for (const e of c.executionContext.startedThreads)
                                        v(u, r(e, n + 1));
                                return u
                            },
                            b = e.getBlock(t.target, t.topBlock),
                            m = [i.headerItem];
                        if (b) {
                            v(m, u(b, 0));
                            for (let n = 0; n < t.stack.length; n++) {
                                const a = t.stack[n];
                                if (a === b.id)
                                    continue;
                                const o = e.getBlock(t.target, a);
                                o && v(m, u(o, n))
                            }
                        }
                        return i.compiledItem && m.push(i.compiledItem), m
                    };
                for (let e = 0; e < n.length; e++) {
                    const a = n[e];
                    a.updateMonitor || v(t, r(a, 0))
                }
                s.rows = t,
                s.queueUpdateContent()
            };
            e.addAfterStepCallback(() => {
                g();
                const e = Object(h.a)();
                e ? i.setGlowingThreads([e]) : i.setGlowingThreads([])
            });
            const u = e.createHeaderButton({
                text: a("step"),
                icon: D("/icons/step.svg"),
                description: a("step-desc")
            });
            u.element.addEventListener("click", () => {
                Object(h.g)()
            });
            const b = e => {
                u.element.style.display = e ? "" : "none",
                g()
            };
            b(Object(h.b)()),
            Object(h.c)(b),
            Object(h.d)(g);
            return {
                tab: r,
                content: s.outerElement,
                buttons: [u],
                show: () => {
                    s.show(),
                    g()
                },
                hide: () => {
                    s.hide()
                }
            }
        }
        var x = n(1490);
        const T = e => {
                if ("/icons/close.svg" === e)
                    return a;
                if ("/icons/debug.svg" === e)
                    return o;
                if ("/icons/delete.svg" === e)
                    return r;
                if ("/icons/download-white.svg" === e)
                    return s;
                if ("/icons/error.svg" === e)
                    return i;
                if ("/icons/logs.svg" === e)
                    return c;
                if ("/icons/performance.svg" === e)
                    return d;
                if ("/icons/play.svg" === e)
                    return l;
                if ("/icons/step.svg" === e)
                    return g;
                if ("/icons/subthread.svg" === e)
                    return u;
                if ("/icons/threads.svg" === e)
                    return b;
                if ("/icons/warning.svg" === e)
                    return m;
                throw new Error("Unknown asset: ".concat(e))
            },
            N = e => {
                for (; e.firstChild;)
                    e.removeChild(e.firstChild)
            };
        var f = n(1547);
        const L = {
            "userscript.js": async function({addon: e, console: t, msg: n}) {
                let a;
                Object(h.f)(e.tab.traps.vm);
                const o = [],
                    r = (...e) => {
                        a ? a.addLog(...e) : o.push(e)
                    };
                let s = !1;
                e.tab.addBlock("​​breakpoint​​", {
                    args: [],
                    displayName: n("block-breakpoint"),
                    callback: (t, a) => {
                        e.tab.redux.state.scratchGui.mode.isPlayerOnly ? s || (r(n("cannot-pause-player"), a, "error"), s = !0) : (Object(h.e)(!0), D(!0))
                    }
                }),
                e.tab.addBlock("​​log​​ %s", {
                    args: ["content"],
                    displayName: n("block-log"),
                    callback: ({content: e}, t) => {
                        r(e, t, "log")
                    }
                }),
                e.tab.addBlock("​​warn​​ %s", {
                    args: ["content"],
                    displayName: n("block-warn"),
                    callback: ({content: e}, t) => {
                        r(e, t, "warn")
                    }
                }),
                e.tab.addBlock("​​error​​ %s", {
                    args: ["content"],
                    displayName: n("block-error"),
                    callback: ({content: e}, t) => {
                        r(e, t, "error")
                    }
                });
                const i = e.tab.traps.vm;
                await new Promise((e, t) => {
                    if (i.editingTarget)
                        return e();
                    i.runtime.once("PROJECT_LOADED", e)
                });
                const c = await e.tab.traps.getBlockly(),
                    d = document.createElement("div");
                d.className = "sa-debugger-container";
                const l = document.createElement("div");
                l.className = e.tab.scratchClass("button_outlined-button", "stage-header_stage-button");
                const g = document.createElement("div");
                g.className = e.tab.scratchClass("button_content");
                const u = document.createElement("img");
                u.className = e.tab.scratchClass("stage-header_stage-button-icon"),
                u.draggable = !1,
                u.src = T("/icons/debug.svg"),
                g.appendChild(u),
                l.appendChild(g),
                d.appendChild(l),
                l.addEventListener("click", () => D(!0));
                const b = Object.assign(document.createElement("div"), {
                        className: e.tab.scratchClass("card_card", {
                            others: "sa-debugger-interface"
                        })
                    }),
                    m = Object.assign(document.createElement("div"), {
                        className: e.tab.scratchClass("card_header-buttons")
                    }),
                    p = Object.assign(document.createElement("ul"), {
                        className: "sa-debugger-tabs"
                    }),
                    M = Object.assign(document.createElement("div"), {
                        className: e.tab.scratchClass("card_header-buttons-right", {
                            others: "sa-debugger-header-buttons"
                        })
                    }),
                    I = Object.assign(document.createElement("div"), {
                        className: "sa-debugger-tab-content"
                    }),
                    y = document.createElement("a");
                y.addEventListener("click", () => {
                    e.tab.redux.dispatch({
                        type: "scratch-gui/modals/OPEN_MODAL",
                        modal: "settingsModal"
                    })
                }),
                y.className = "sa-debugger-log sa-debugger-compiler-warning",
                y.textContent = "The debugger works best when the compiler is disabled.";
                const A = () => {
                    y.hidden = !i.runtime.compilerOptions.enabled
                };
                i.on("COMPILER_OPTIONS_CHANGED", A),
                A();
                let k = !1;
                const D = e => {
                    k = e,
                    b.style.display = k ? "flex" : "",
                    k ? F.show() : F.hide()
                };
                let v = 0,
                    f = 0,
                    L = 0,
                    C = 0;
                const j = () => {
                        document.removeEventListener("mouseup", j),
                        document.removeEventListener("mousemove", z)
                    },
                    S = (e, t) => {
                        L = e,
                        C = t;
                        const n = (document.documentElement.clientWidth || document.body.clientWidth) - 1,
                            a = (document.documentElement.clientHeight || document.body.clientHeight) - 1,
                            o = Math.max(0, Math.min(e - v, n - b.offsetWidth)),
                            r = Math.max(0, Math.min(t - f, a - b.offsetHeight));
                        b.style.left = o + "px",
                        b.style.top = r + "px"
                    },
                    z = e => {
                        e.preventDefault(),
                        S(e.clientX, e.clientY)
                    };
                window.addEventListener("resize", () => {
                    S(L, C)
                }),
                m.addEventListener("mousedown", e => {
                    e.preventDefault(),
                    v = e.clientX - b.offsetLeft,
                    f = e.clientY - b.offsetTop,
                    L = e.clientX,
                    C = e.clientY,
                    document.addEventListener("mouseup", j),
                    document.addEventListener("mousemove", z)
                }),
                m.append(p, M),
                b.append(m, y, I),
                document.body.append(b);
                const Z = ({text: t, icon: n, description: a}) => {
                        const o = Object.assign(document.createElement("div"), {
                            className: e.tab.scratchClass("card_shrink-expand-button"),
                            draggable: !1
                        });
                        a && (o.title = a);
                        const r = Object.assign(document.createElement("img"), {
                                src: n,
                                draggable: !1
                            }),
                            s = Object.assign(document.createElement("span"), {
                                textContent: t
                            });
                        return o.appendChild(r), o.appendChild(s), {
                            element: o,
                            image: r,
                            text: s
                        }
                    },
                    O = Z({
                        text: n("unpause"),
                        icon: T("/icons/play.svg")
                    });
                O.element.classList.add("sa-debugger-unpause"),
                O.element.addEventListener("click", () => Object(h.e)(!1));
                const W = e => {
                    O.element.style.display = e ? "" : "none"
                };
                W(Object(h.b)()),
                Object(h.c)(W);
                const Y = Z({
                    text: n("close"),
                    icon: T("/icons/close.svg")
                });
                Y.element.addEventListener("click", () => D(!1));
                const G = i.runtime._step,
                    H = [];
                i.runtime._step = function(...e) {
                    const t = G.call(this, ...e);
                    for (const e of H)
                        e();
                    return t
                };
                const B = (e, t) => e.blocks.getBlock(t) || i.runtime.flyoutBlocks.getBlock(t),
                    U = e => {
                        e !== i.editingTarget.id && i.runtime.getTargetById(e) && i.setEditingTarget(e)
                    },
                    P = () => {
                        const t = e.tab.redux;
                        0 !== t.state.scratchGui.editorTab.activeTabIndex && t.dispatch({
                            type: "scratch-gui/navigation/ACTIVATE_TAB",
                            activeTabIndex: 0
                        })
                    },
                    J = t => {
                        const n = Blockly.getMainWorkspace().getBlockById(t);
                        n && (n.workspace.isFlyout || new x.a(e).scrollBlockIntoView(t))
                    },
                    R = t => {
                        const n = e.tab.getCustomBlock(t);
                        return n && (t = n.displayName), t.replace(/%[nbs]/g, "()")
                    },
                    _ = {
                        debug: {
                            createHeaderButton: Z,
                            createHeaderTab: ({text: e, icon: t}) => {
                                const n = document.createElement("li"),
                                    a = Object.assign(document.createElement("img"), {
                                        src: t,
                                        draggable: !1
                                    }),
                                    o = Object.assign(document.createElement("span"), {
                                        textContent: e
                                    });
                                return n.appendChild(a), n.appendChild(o), {
                                    element: n,
                                    image: a,
                                    text: o
                                }
                            },
                            setHasUnreadMessage: e => {
                                g.classList.toggle("sa-debugger-unread", e)
                            },
                            addAfterStepCallback: e => {
                                H.push(e)
                            },
                            getBlock: B,
                            getTargetInfoById: e => {
                                const t = i.runtime.getTargetById(e);
                                if (t) {
                                    let e = t.getName(),
                                        a = t;
                                    return t.isOriginal || (e = n("clone-of", {
                                        sprite: e
                                    }), a = t.sprite.clones[0]), {
                                        exists: !0,
                                        originalId: a.id,
                                        name: e
                                    }
                                }
                                return {
                                    exists: !1,
                                    original: null,
                                    name: n("unknown-sprite")
                                }
                            },
                            createBlockLink: (e, t) => {
                                const n = document.createElement("a");
                                n.className = "sa-debugger-log-link";
                                const {exists: a, name: o, originalId: r} = e;
                                return n.textContent = o, a ? n.addEventListener("mousedown", () => {
                                    U(r),
                                    P(),
                                    J(t)
                                }) : n.classList.add("sa-debugger-log-link-unknown"), n
                            },
                            createBlockPreview: (t, n) => {
                                const a = i.runtime.getTargetById(t);
                                if (!a)
                                    return null;
                                const o = B(a, n);
                                if (!o || "text" === o.opcode)
                                    return null;
                                let r,
                                    s,
                                    d;
                                if ("data_variable" === o.opcode || "data_listcontents" === o.opcode || "argument_reporter_string_number" === o.opcode || "argument_reporter_boolean" === o.opcode)
                                    r = Object.values(o.fields)[0].value,
                                    s = "data_variable" === o.opcode ? "data" : "data_listcontents" === o.opcode ? "list" : "more",
                                    d = "round";
                                else if ("procedures_call" === o.opcode) {
                                    const t = o.mutation.proccode;
                                    r = R(t);
                                    s = e.tab.getCustomBlock(t) ? "addon-custom-block" : "more"
                                } else if ("procedures_definition" === o.opcode) {
                                    const e = o.inputs.custom_block.block,
                                        t = B(a, e).mutation.proccode;
                                    r = c.ScratchMsgs.translate("PROCEDURES_DEFINITION", "define %1").replace("%1", R(t)),
                                    s = "more"
                                } else {
                                    var l,
                                        g;
                                    const e = {
                                            jsonInit(e) {
                                                g = e
                                            }
                                        },
                                        t = c.Blocks[o.opcode];
                                    if (t)
                                        try {
                                            t.init.call(e)
                                        } catch (e) {}
                                    if (!g)
                                        return null;
                                    if (r = (e => {
                                        const t = t => {
                                                const n = e["message".concat(t)],
                                                    a = e["args".concat(t)];
                                                if (!n)
                                                    return null;
                                                const o = n.split(/%\d+/g);
                                                let r = "";
                                                for (let e = 0; e < o.length; e++) {
                                                    r += o[e];
                                                    const t = a && a[e];
                                                    if (t) {
                                                        const e = t.type;
                                                        if ("field_vertical_separator" === e)
                                                            ;
                                                        else if ("field_image" === e) {
                                                            const e = t.src;
                                                            e.endsWith("rotate-left.svg") ? r += "↩" : e.endsWith("rotate-right.svg") && (r += "↪")
                                                        } else
                                                            r += "()"
                                                    }
                                                }
                                                return r
                                            },
                                            n = [];
                                        let a = 0;
                                        for (;;) {
                                            const e = t(a);
                                            if (!e)
                                                break;
                                            n.push(e),
                                            a++
                                        }
                                        return n.join(" ")
                                    })(g), !r)
                                        return null;
                                    s = null !== (l = g.extensions) && void 0 !== l && l.includes("scratch_extension") ? "pen" : g.category;
                                    d = g.extensions && (g.extensions.includes("shape_statement") || g.extensions.includes("shape_hat") || g.extensions.includes("shape_end")) || "previousStatement" in g || "nextStatement" in g ? "stacked" : "round"
                                }
                                if (!r || !s)
                                    return null;
                                const u = document.createElement("span");
                                return u.className = "sa-debugger-block-preview sa-block-color", u.textContent = r, u.dataset.shape = d, u.classList.add("sa-block-color-".concat(s)), u
                            }
                        },
                        addon: e,
                        msg: n,
                        console: t
                    };
                a = await w(_);
                const Q = await E(_),
                    V = [a, Q];
                for (const e of o)
                    a.addLog(...e);
                let F;
                o.length = 0;
                const X = e => {
                    if (e === F)
                        return;
                    F && (F.hide(), F.tab.element.classList.remove("sa-debugger-tab-selected")),
                    e.tab.element.classList.add("sa-debugger-tab-selected"),
                    F = e,
                    N(I),
                    I.appendChild(e.content),
                    N(M),
                    M.appendChild(O.element);
                    for (const t of e.buttons)
                        M.appendChild(t.element);
                    M.appendChild(Y.element),
                    k && F.show()
                };
                for (const e of V)
                    e.tab.element.addEventListener("click", () => {
                        X(e)
                    }),
                    p.appendChild(e.tab.element);
                X(V[0]),
                e.tab.redux.state && "small" === e.tab.redux.state.scratchGui.stageSize.stageSize && document.body.classList.add("sa-debugger-small"),
                document.addEventListener("click", e => {
                    e.target.closest("[class*='stage-header_stage-button-first']:not(.sa-hide-stage-button)") ? document.body.classList.add("sa-debugger-small") : (e.target.closest("[class*='stage-header_stage-button-last']") || e.target.closest(".sa-hide-stage-button")) && document.body.classList.remove("sa-debugger-small")
                }, {
                    capture: !0
                });
                const q = i.runtime.greenFlag;
                i.runtime.greenFlag = function(...t) {
                    return e.settings.get("log_clear_greenflag") && a.clearLogs(), e.settings.get("log_greenflag") && a.addLog(n("log-msg-flag-clicked"), null, "internal"), q.call(this, ...t)
                };
                const K = i.runtime.targets[0].constructor.prototype.makeClone;
                i.runtime.targets[0].constructor.prototype.makeClone = function(...t) {
                    e.settings.get("log_failed_clone_creation") && !i.runtime.clonesAvailable() && a.addLog(n("log-msg-clone-cap", {
                        sprite: this.getName()
                    }), i.runtime.sequencer.activeThread, "internal-warn");
                    var o = K.call(this, ...t);
                    return e.settings.get("log_clone_create") && o && a.addLog(n("log-msg-clone-created", {
                        sprite: this.getName()
                    }), i.runtime.sequencer.activeThread, "internal"), o
                };
                const $ = i.runtime.startHats;
                for (i.runtime.startHats = function(t, o, ...r) {
                    return e.settings.get("log_broadcasts") && "event_whenbroadcastreceived" === t && a.addLog(n("log-msg-broadcasted", {
                        broadcast: o.BROADCAST_OPTION
                    }), i.runtime.sequencer.activeThread, "internal"), $.call(this, t, o, ...r)
                };;)
                    await e.tab.waitForElement('[class*="stage-header_stage-size-row"]', {
                        markAsSeen: !0,
                        reduxEvents: ["scratch-gui/mode/SET_PLAYER", "scratch-gui/mode/SET_FULL_SCREEN", "fontsLoaded/SET_FONTS_LOADED", "scratch-gui/locales/SELECT_LOCALE"]
                    }),
                    "editor" === e.tab.editorMode ? e.tab.appendToSharedSpace({
                        space: "stageHeader",
                        element: d,
                        order: 0
                    }) : D(!1)
            },
            "style.css": n.n(f).a
        }
    }
}]);
